<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Fox Hill Community Space</title>
  <link href="stylesheet.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Neucha&display=swap" rel="stylesheet">
</head>

<body>
  <div class="middle">
      <section>
	   <img src="images/banner.png">
	  <ul class= "menu">
	   <li>
	      <a href="videos.html"><img src="videos.png"></a>
	   </li>
	   <li>
	      <a href="links.html"><img src="links.png"></a>
	   </li>
	   <li>
	      <a href="whatson.html"><img src="whatson.png"></a>
	   </li>
	  </ul>
      </section>
	  <div class="quizzical">
	  <h3>Let's get quizzical with the Fox Hill Coders who have made their own quiz about coding! Answer the following...</h3>
	  <div id="quiz"></div>
            </br>
            <button id="submit">Submit</button>
            <div id="results"></div>
		</div>
  <footer>Made by: A. Fox</footer>
  </div>
  <script>
    var questions = [{
	    question: "Who created the Fox Hill website?",
		answers: {
		  a: "A. Cat",
		  b: "A. Fox",
		  c: "A. SPider",
		  },
		  correctAnswer: "b"
		},
		{
		question: "Which brackets go round a CSS rule?",
		answers: {
		  a: "{}",
		  b: "[]",
		  c: "()",
		  },
		  correctAnswer: "a"
		},
		{
		question: "Which one of these ISN'T a type of variable?",
		answers: {
		  a: "Const",
		  b: "Let",
		  c: "Return",
		  },
		  correctAnswer: "c"
		}
	];
		var quizContainer = document.getElementById("quiz");
		var resultsContainer = document.getElementById("results");
		var submitButton = document.getElementById("submit");
		
		
		makeQuiz(questions, quizContainer, resultsContainer, submitButton);
		
		function makeQuiz(questions, quizContainer, resultsContainer, submitButton){
		   function showQuestions(questions, quizContainer){
		     var output = [];
			 var answers;
			 for (var i = 0; i < questions.length; i++){
			   answers = [];
			     for (letter in questions[i].answers){
				 answers.push (
				   "<label>" +
				   "<input type = 'radio' name = 'question" + i + "'value ='" + letter + "'>" +
				   letter + ":" +
				   questions[i].answers[letter] +
				   "</label>"
				   );
				 }
				 
		    output.push(
			   "<div class='question'>" + questions[i].question + "</div>" +
			   "<div class='answers'>" + answers.join("") + "</div>"
			   );
			}
			quizContainer.innerHTML = output.join("");
			}
			function showResults(questions, quizContainer, resultsContainer){
				var answerContainers = quizContainer.querySelectorAll(".answers");
				var userAnswer = "";
				var numCorrect = 0;
				for (var i = 0; i < questions.length; i++) {
				   userAnswer = (answerContainers[i].querySelector("input[name = question" + i + "]:checked") || {}).value;
				   if  (userAnswer === questions[i].correctAnswer){
				       numCorrect++;
					   answerContainers[i].style.color = "lightgreen";
				  } else {
				    answerContainers[i].style.color = "red";
					}
				}
				resultsContainer.innerHTML = numCorrect + " out of" + questions.length;
				}
				showQuestions(questions, quizContainer);
				submitButton.onclick = function() {
				  showResults(questions, quizContainer, resultsContainer);
				  }
				}
				
  </script>
</body>

</html>

